# NetGuard Native Background Service - Quick Test Guide

## üöÄ Immediate Testing Steps

‡πÅ‡∏≠‡∏õ‡πÑ‡∏î‡πâ build ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö Native Background Service ‡∏Å‡∏±‡∏ô

### 1. ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

```bash
# ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö real-time
adb logcat | grep NetGuard
```

**‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:**
- ‡∏´‡∏ô‡πâ‡∏≤ UI ‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÄ‡∏î‡∏¥‡∏°)
- ‡πÑ‡∏°‡πà‡∏°‡∏µ crash ‡∏´‡∏£‡∏∑‡∏≠ error
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥

### 2. üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Native Service ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. **‡πÄ‡∏û‡∏¥‡πà‡∏° URL** ‡∏™‡∏±‡∏Å‡∏ï‡∏±‡∏ß (‡πÄ‡∏ä‡πà‡∏ô `google.com`)
2. **‡∏ï‡∏±‡πâ‡∏á Callback URL** (‡πÉ‡∏ä‡πâ https://webhook.site/ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
3. **‡∏´‡∏≤ Switch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö "Native Service"** (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
4. **‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î Background Service**

**‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
- ‡∏õ‡∏£‡∏≤‡∏Å‡∏è notification "NetGuard Monitoring"
- ‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡πÉ‡∏ô logcat
- Log ‡πÉ‡∏ô console ‡∏Ç‡∏∂‡πâ‡∏ô "Service started successfully"

### 3. üì± ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Background Monitoring

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. **‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Home** (minimize ‡πÅ‡∏≠‡∏õ)
2. **‡∏£‡∏≠ 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ**
3. **‡πÑ‡∏õ‡∏î‡∏π‡∏ó‡∏µ‡πà webhook.site** ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ
4. **‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ**

**‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
- Webhook.site ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö POST request
- JSON payload ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• URL ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- Service statistics ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- Notification ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

### 4. üî• App Kill Test (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. **‡πÄ‡∏õ‡∏¥‡∏î service** ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
2. **‡πÄ‡∏Ç‡πâ‡∏≤ Recent Apps** (‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°)
3. **Swipe ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ** (force kill)
4. **‡∏£‡∏≠ 5 ‡∏ô‡∏≤‡∏ó‡∏µ** ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ
5. **‡πÄ‡∏ä‡πá‡∏Ñ webhook.site** ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

**‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
- ‚úÖ **Service ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠** (notification ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà)
- ‚úÖ **Webhook ‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
- ‚úÖ **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡πÉ‡∏´‡∏°‡πà** statistics ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### 5. üõ†Ô∏è Debugging Commands

```bash
# ‡∏î‡∏π‡∏ß‡πà‡∏≤ service ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°
adb shell dumpsys activity services | grep NetGuard

# ‡∏î‡∏π notification ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏¢‡∏π‡πà
adb shell dumpsys notification | grep netguard

# ‡∏î‡∏π memory usage ‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ
adb shell dumpsys meminfo com.netguardnew

# ‡∏î‡∏π logs ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ background service
adb logcat | grep -E "(NetGuardBgService|BackgroundService)"
```

## üö® Expected Results (‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á)

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
- ‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÑ‡∏°‡πà crash
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á callback ‡πÑ‡∏î‡πâ
- Background service ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ ‡∏°‡∏µ notification
- Webhook ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö callback ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
- Service ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡∏•‡∏±‡∏á app kill

### ‚ùå ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Å‡∏¥‡∏î:
- ‡πÅ‡∏≠‡∏õ crash ‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î
- Service ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ
- Notification ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠ minimize ‡πÅ‡∏≠‡∏õ
- Service ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á force kill
- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö callback ‡πÉ‡∏ô webhook

## üîß Quick Fixes

### ‡∏ñ‡πâ‡∏≤ Service ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö permission
adb shell dumpsys package com.netguardnew | grep permission

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö battery optimization
adb shell dumpsys deviceidle whitelist | grep netguard
```

### ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Callback:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡πÉ‡∏ô webhook.site ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏´‡∏°
2. ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô URL ‡∏≠‡∏∑‡πà‡∏ô
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network connectivity

### ‡∏ñ‡πâ‡∏≤ Service ‡∏´‡∏¢‡∏∏‡∏î‡∏´‡∏•‡∏±‡∏á App Kill:
```bash
# ‡∏î‡∏π‡∏ß‡πà‡∏≤ service ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°
adb shell ps | grep netguard

# ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï battery optimization
adb shell dumpsys battery reset
```

## üìä Test Results Template

‡∏Å‡∏£‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

```
‚úÖ/‚ùå 1. ‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
‚úÖ/‚ùå 2. ‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡πÑ‡∏î‡πâ
‚úÖ/‚ùå 3. ‡∏ï‡∏±‡πâ‡∏á callback ‡πÑ‡∏î‡πâ
‚úÖ/‚ùå 4. Service ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ
‚úÖ/‚ùå 5. ‡∏°‡∏µ notification ‡πÅ‡∏™‡∏î‡∏á
‚úÖ/‚ùå 6. ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö callback ‡πÅ‡∏£‡∏Å
‚úÖ/‚ùå 7. Callback ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á minimize
‚úÖ/‚ùå 8. Service ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡∏•‡∏±‡∏á app kill
‚úÖ/‚ùå 9. Statistics ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

‡∏™‡∏£‡∏∏‡∏õ: ___/9 tests passed
```

## üì± Platform Specific Notes

### Android Emulator:
- ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á
- Network ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
- Battery optimization ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•

### Physical Device:
- ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô Android 8.0+ 
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á battery optimization
- ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏∞‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤

## üöÄ Next Steps

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß:

1. **Long-term Test**: ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 1-2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
2. **Reboot Test**: ‡∏•‡∏≠‡∏á restart ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ß‡πà‡∏≤ auto-start ‡πÑ‡∏´‡∏°
3. **Multiple URLs Test**: ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß
4. **Different Intervals**: ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô check interval
5. **Manufacturer Settings**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞ brand (Xiaomi, Samsung, etc.)

**Happy Testing! üéØ**

---

‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏î‡πÜ ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô `./test-background-service.sh --debug-dump` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå debug ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î